function QRdiffCharDecode(b){if(b=="0"){return 0}else{var d=b.toUpperCase();var a=1;if(b==d){a=-1}var c=d.charCodeAt(0)-64;return c*a}}function QRdecompactOps(k){var b=new Array();var l=k.split(",");while(l.length>0){var a=l.shift();var e=a.toUpperCase();switch(e){case"P":case"R":if(a==e){b.push("S")}else{b.push("W")}b.push(e);var p=l.shift();var f=p.length;for(var g=0;g<f;g++){var h=0;var d=p.charAt(g);if(d=="z"){h+=60;g++}else{if(d=="Z"){h+=120;g++}else{if(d=="+"){h+=180;g++}}}var c=p.charCodeAt(g);if(c>=97){h+=((c-97)+10)}else{if(c>=65){h+=((c-65)+35)}else{if(c>=48){h+=(c-48)}}}b.push(h+"")}break;case"B":var j=parseInt(l.shift());for(var q=0;q<j;q++){if(a==e){b.push("S")}else{b.push("W")}b.push("B");b.push("M");var o=parseInt(l.shift());var m=parseInt(l.shift());b.push(o+"");b.push(m+"");b.push("T");var p=l.shift();p=p.split("1").join("00").split("2").join("aa").split("3").join("aA").split("4").join("Aa").split("5").join("AA").split("6").join("aB").split("7").join("Ab").split("8").join("bA").split("9").join("Ba");var f=p.length;for(var g=0;g<f;g+=2){o+=QRdiffCharDecode(p.charAt(g));m+=QRdiffCharDecode(p.charAt(g+1));b.push(o+"");b.push(m+"")}b.push("E")}break;case"O":for(g=0;g<3;g++){var o=parseInt(l.shift());var m=parseInt(l.shift());b.push("S,R");b.push(o);b.push(m);b.push("7,7,W,R");b.push(o+1);b.push(m+1);b.push("5,5,S,R");b.push(o+2);b.push(m+2);b.push("3,3")}break}}return b.join(",")}function QRdrawCode(b,a,q,j,h,v,o){var i=document.getElementById(a);if(!v){v=2}if(!o){o=2}if(!j){j=i.clientWidth}if(!h){h=i.clientHeight}var l=parseInt(j/(q+(v*2)));var k=parseInt(h/(q+(o*2)));if(l<1){l=1}if(k<1){k=1}var n=Math.min(l,k);var A=j-((q+(v*2))*n);var z=h-((q+(o*2))*n);var f=n*v+parseInt(A/2);var d=n*o+parseInt(z/2);var p=b.split(",");var c=p.length;var t=0;if(i.getContext){var u=i.getContext("2d");var m=p[t];var y="";u.fillStyle="white";u.fillRect(f,d,q*n,q*n);while(t<c){var e=true;switch(m){case"S":u.fillStyle="black";break;case"W":u.fillStyle="white";break;case"B":u.beginPath();break;case"M":t++;var s=p[t];t++;var r=p[t];u.moveTo(s*n+f,r*n+d);break;case"T":t++;var s=p[t];t++;var r=p[t];u.lineTo(s*n+f,r*n+d);break;case"E":u.fill();break;case"P":t++;var s=p[t];t++;var r=p[t];u.fillRect(s*n+f,r*n+d,n,n);break;case"R":t++;var s=p[t];t++;var r=p[t];t++;var x=p[t];t++;var g=p[t];u.fillRect(s*n+f,r*n+d,x*n,g*n);break;default:e=false;t--;m=y;break}y=m;if(e){t++;m=p[t]}}}};